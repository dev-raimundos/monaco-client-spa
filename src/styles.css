@import "tailwindcss";

@theme {
    /* Tipografia */
    --font-sans: "Roboto", ui-sans-serif, system-ui;

    /* Cores de Base (Nível de Página) */
    --color-background: var(--mat-sys-surface);
    --color-foreground: var(--mat-sys-on-surface);
    --color-primary: var(--mat-sys-primary);
    --color-on-primary: var(--mat-sys-on-primary);

    /* Cores de Superfície (Cards, Modais, Menus) */
    --color-card: var(--mat-sys-surface-container);
    --color-card-high: var(--mat-sys-surface-container-high);
    --color-card-low: var(--mat-sys-surface-container-low);

    /* Bordas e Estados Muted */
    --color-border: var(--mat-sys-outline-variant);
    --color-outline: var(--mat-sys-outline);
    --color-muted-foreground: var(--mat-sys-on-surface-variant);

    /* Cores de Status */
    --color-error: var(--mat-sys-error);
    --color-on-error: var(--mat-sys-on-error);
    --color-monaco-yellow: #f2e96d;

    /* Configurações de Sistema */
    --variant-dark: .dark &;
}

/* --- Utilidades e Scrollbar --- */
.custom-scrollbar::-webkit-scrollbar {
    width: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
    background-color: var(--color-border);
    border-radius: 10px;
}

.snackbar-success {
    --mdc-snackbar-container-color: #2e7d32;
    --mdc-snackbar-supporting-text-color: #ffffff;
}

.snackbar-error {
    --mdc-snackbar-container-color: var(--color-error);
    --mdc-snackbar-supporting-text-color: var(--color-on-error);
}

/* --- Reset e Base --- */
body {
    background-color: var(--color-background) !important;
    color: var(--color-foreground);
    margin: 0;
    height: 100vh;
    font-family: var(--font-sans);
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* --- Componentes de Superfície (Cards, Tables, Panels) --- */
mat-card,
.mat-mdc-card,
.mat-mdc-table,
mat-expansion-panel {
    background-color: var(--color-card) !important;
    border: 1px solid var(--color-border) !important;
    border-radius: 12px !important;
    /* Box-shadow suave adaptado para M3 */
    box-shadow: 0 2px 4px color-mix(in srgb, var(--color-foreground) 5%, transparent) !important;
    transition: box-shadow 0.3s ease, transform 0.2s ease;
    overflow: hidden;
}

/* --- Tabela e Paginador --- */
.mat-mdc-header-row {
    background-color: var(--color-card-high) !important;
    height: 56px !important;
}

.mat-mdc-row:last-child .mat-mdc-cell {
    border-bottom: none;
}

/* Zebra Stripes Inteligente (Funciona em Light e Dark) */
.mat-mdc-row:nth-child(even) {
    background-color: color-mix(in srgb, var(--color-foreground) 2%, transparent);
}

/* Conexão Visual Tabela + Paginador */
.mat-mdc-table:has(+ mat-paginator) {
    border-bottom-left-radius: 0 !important;
    border-bottom-right-radius: 0 !important;
    border-bottom: none !important;
}

.mat-mdc-paginator {
    background-color: var(--color-card-high) !important;
    color: var(--color-muted-foreground) !important;
    border: 1px solid var(--color-border) !important;
    border-top: none !important;
    border-bottom-left-radius: 12px !important;
    border-bottom-right-radius: 12px !important;
}

.mat-mdc-paginator .mat-mdc-button-base {
    color: var(--color-foreground) !important;
}

/* --- Formulários e Expansão --- */
.mat-mdc-card-content {
    padding-top: 16px !important;
}

.mat-mdc-form-field {
    margin-top: 8px;
    margin-bottom: 4px;
}

.mat-expansion-panel-header {
    background-color: transparent !important;
    padding: 12px 24px !important;
    height: auto !important;
}
