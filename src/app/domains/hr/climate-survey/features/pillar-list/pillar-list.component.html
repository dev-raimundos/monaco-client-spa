<div class="p-6 space-y-6 bg-background text-foreground transition-colors duration-300">
    <div class="flex justify-between items-center mb-8">
        <div>
            <h1 class="text-2xl font-black tracking-tighter uppercase">Pilares da Pesquisa</h1>
            <p class="text-sm text-muted-foreground lowercase">Gestão Centralizada M3.</p>
        </div>
        <button
            mat-flat-button
            color="primary"
            (click)="openCreate()"
            class="rounded-xl! px-5 py-6"
        >
            <mat-icon>add</mat-icon> <span>Novo Pilar</span>
        </button>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <mat-card appearance="outlined">
            <mat-card-header>
                <div
                    mat-card-avatar
                    class="bg-primary text-on-primary flex items-center justify-center rounded-full"
                >
                    <mat-icon>verified</mat-icon>
                </div>
                <mat-card-title>Teste de Elevação</mat-card-title>
                <mat-card-subtitle>Automático por SCSS</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content class="pt-4">
                <p>O fundo muda entre Dark/Light sem classes manuais.</p>
                <button
                    mat-button
                    matRipple
                    color="primary"
                    class="mt-2"
                >
                    Clique para Testar Ripple
                </button>
            </mat-card-content>
        </mat-card>

        <mat-card appearance="outlined">
            <mat-card-header>
                <mat-card-title>Badges e Chips</mat-card-title>
            </mat-card-header>
            <mat-card-content class="pt-4 space-y-6">
                <mat-chip-set>
                    <mat-chip>Ativo</mat-chip>
                    <mat-chip>Grupo Mônaco</mat-chip>
                </mat-chip-set>

                <div class="flex items-center gap-6">
                    <span
                        matBadge="7"
                        matBadgeColor="warn"
                        >Notificações</span
                    >
                    <span
                        matBadge="OK"
                        matBadgeColor="primary"
                        >Status</span
                    >
                </div>
            </mat-card-content>
        </mat-card>
    </div>

    <div class="mat-elevation-z1 rounded-xl overflow-hidden p-4">
        <mat-tab-group>
            <mat-tab label="Geral">
                <div class="p-4 space-y-4">
                    <p class="text-sm">As animações agora estão integradas ao core.</p>
                    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
                </div>
            </mat-tab>
        </mat-tab-group>
    </div>

    <div class="mt-8">
        <h3 class="font-bold mb-4 uppercase text-xs tracking-widest text-primary">
            Lista Oficial de Pilares
        </h3>
        @if (isLoading()) {
            <div class="flex justify-center p-12"><mat-spinner diameter="40"></mat-spinner></div>
        } @else {
            <app-shared-table 
                [data]="pillars()"
                [columns]="myColumns"
                [totalItems]="total()"
                [pageSize]="pageSize()"
                [currentPage]="currentPage()"
                (pageChange)="handlePage($event)"
            />
        }
    </div>
</div>
