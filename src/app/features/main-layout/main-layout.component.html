<div class="flex h-screen bg-background font-sans text-foreground">
    <aside class="w-64 bg-card border-r border-border flex flex-col shrink-0 shadow-sm">
        <div class="p-6">
            <h1 class="text-lg font-bold tracking-tight text-primary flex items-center gap-2">
                <span class="bg-primary text-primary-foreground p-1 rounded italic text-sm">GM</span>
                GRUPO MÃ”NACO
            </h1>
        </div>

        <nav class="flex-1 px-3 space-y-1 overflow-y-auto">
            @for (item of navItems; track item.label) {

            @if (!item.children) {
            <a [routerLink]="item.route" routerLinkActive="bg-accent text-accent-foreground font-semibold"
                class="flex items-center px-3 py-2 text-sm text-muted-foreground rounded-md hover:bg-accent hover:text-accent-foreground transition-colors group">
                <hlm-icon [name]="item.icon" size="sm"
                    class="mr-3 text-muted-foreground group-hover:text-foreground"></hlm-icon>
                {{ item.label }}
            </a>
            } @else {
            <div class="space-y-1">
                <button (click)="toggleMenu(item.label)"
                    class="w-full flex items-center justify-between px-3 py-2 text-sm text-muted-foreground rounded-md hover:bg-accent hover:text-accent-foreground transition-colors group">
                    <div class="flex items-center">
                        <hlm-icon [name]="item.icon" size="sm"
                            class="mr-3 text-muted-foreground group-hover:text-foreground"></hlm-icon>
                        {{ item.label }}
                    </div>
                    <hlm-icon name="lucideChevronDown" size="xs" class="transition-transform duration-200"
                        [class.rotate-180]="expandedMenu() === item.label"></hlm-icon>
                </button>

                @if (expandedMenu() === item.label) {
                <div class="ml-9 space-y-1 border-l border-border pl-2">
                    @for (child of item.children; track child.label) {
                    <a [routerLink]="child.route" routerLinkActive="text-foreground font-medium"
                        class="block py-2 text-xs text-muted-foreground hover:text-foreground transition-colors">
                        {{ child.label }}
                    </a>
                    }
                </div>
                }
            </div>
            }
            }
        </nav>

        <div class="p-4 border-t border-border">
            <div class="flex items-center gap-3 px-2 py-3 mb-2">
                <hlm-avatar variant="small">
                    <span hlmAvatarFallback>RN</span>
                </hlm-avatar>
                <div class="flex flex-col overflow-hidden">
                    <span class="text-xs font-semibold truncate text-foreground">Raimundos Neto</span>
                    <span class="text-[10px] text-muted-foreground italic">Presidente</span>
                </div>
            </div>
            <button hlmBtn variant="ghost"
                class="w-full justify-start text-destructive hover:bg-destructive/10 hover:text-destructive px-2">
                <hlm-icon name="lucideLogOut" size="xs" class="mr-2"></hlm-icon>
                Sair
            </button>
        </div>
    </aside>

    <main class="flex-1 overflow-y-auto overflow-x-hidden bg-background">
        <router-outlet></router-outlet>
    </main>
</div>
